# Campaigns API

Manage marketing campaigns with budget tracking, lead generation metrics, and ROI analysis.

## Overview

The Campaigns API allows you to create, read, update, and delete campaign records. Campaigns track marketing efforts and their effectiveness in generating leads and revenue.

## Authentication

All endpoints require authentication via:
- **Session cookie** (for browser-based requests)
- **API Key** header (for server-to-server requests)

## Endpoints

### List Campaigns
`GET /api/v1/campaigns`

Returns a paginated list of campaigns.

**Query Parameters:**
- `limit` (number, optional): Maximum records to return. Default: 20
- `offset` (number, optional): Number of records to skip. Default: 0
- `type` (string, optional): Filter by type (email, social, event, webinar, advertising, content, other)
- `status` (string, optional): Filter by status (planned, active, paused, completed, cancelled)
- `search` (string, optional): Search by name, objective
- `sortBy` (string, optional): Field to sort by
- `sortOrder` (string, optional): Sort direction (asc, desc)

**Example Response:**
```json
{
  "data": [
    {
      "id": "campaign_abc123",
      "name": "Q1 Email Campaign",
      "type": "email",
      "status": "active",
      "objective": "Generate leads for new product launch",
      "startDate": "2024-01-01",
      "endDate": "2024-03-31",
      "budget": 10000,
      "actualCost": 7500,
      "targetLeads": 500,
      "actualLeads": 350,
      "targetRevenue": 100000,
      "actualRevenue": 75000,
      "roi": 900,
      "channel": "email",
      "assignedTo": "user_456",
      "createdAt": "2024-01-15T10:30:00Z"
    }
  ],
  "pagination": {
    "total": 15,
    "limit": 20,
    "offset": 0
  }
}
```

### Get Single Campaign
`GET /api/v1/campaigns/[id]`

Returns a single campaign by ID.

### Create Campaign
`POST /api/v1/campaigns`

Create a new campaign record.

**Request Body:**
```json
{
  "name": "New Product Launch",
  "type": "social",
  "status": "planned",
  "objective": "Create awareness for new product",
  "startDate": "2024-04-01",
  "endDate": "2024-05-31",
  "budget": 15000,
  "targetLeads": 300,
  "channel": "social_media"
}
```

### Update Campaign
`PATCH /api/v1/campaigns/[id]`

Update an existing campaign. Supports partial updates.

### Delete Campaign
`DELETE /api/v1/campaigns/[id]`

Delete a campaign record.

## Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| name | text | Yes | Campaign name |
| type | select | No | Type: email, social, event, webinar, advertising, content, other |
| status | select | No | Status: planned, active, paused, completed, cancelled |
| objective | text | No | Campaign objective |
| description | textarea | No | Detailed campaign description |
| startDate | date | Yes | Campaign start date |
| endDate | date | Yes | Campaign end date |
| budget | number | No | Campaign budget |
| actualCost | number | No | Actual cost spent |
| targetAudience | text | No | Target audience description |
| targetLeads | number | No | Target number of leads |
| actualLeads | number | No | Actual leads generated |
| targetRevenue | number | No | Target revenue to generate |
| actualRevenue | number | No | Actual revenue generated |
| roi | number | Auto | Return on investment percentage |
| channel | select | No | Main channel: email, social_media, web, print, tv, radio, other |
| assignedTo | user | No | Campaign manager assigned |
| createdAt | datetime | Auto | Creation timestamp |
| updatedAt | datetime | Auto | Last update timestamp |

## Features

- **Searchable**: name, objective, description, target audience
- **Sortable**: Most fields
- **Metadata**: Supported

## Error Responses

| Status | Description |
|--------|-------------|
| 400 | Bad Request - Invalid parameters |
| 401 | Unauthorized - Missing or invalid auth |
| 403 | Forbidden - Insufficient permissions |
| 404 | Not Found - Campaign doesn't exist |
| 422 | Validation Error - Invalid data |

## Related APIs

- **[Leads](/api/v1/leads)** - Leads generated by campaigns
