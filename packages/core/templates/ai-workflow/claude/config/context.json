{
  "context": "consumer",
  "description": "NextSpark application development - Build your app using themes and plugins",

  "capabilities": {
    "modifyCore": false,
    "allThemes": false,
    "allPlugins": true,
    "createReleases": false,
    "maintainWorkflows": false
  },

  "allowedPaths": [
    "contents/themes/${NEXT_PUBLIC_ACTIVE_THEME}/**/*",
    "contents/plugins/**/*",
    ".claude/sessions/**/*"
  ],

  "restrictions": {
    "core": {
      "level": "forbidden",
      "message": "Core is installed via npm (node_modules/) and cannot be modified. To customize behavior, create a theme override or plugin instead."
    },
    "otherThemes": {
      "level": "forbidden",
      "message": "Only the active theme (NEXT_PUBLIC_ACTIVE_THEME) can be modified. To work on a different theme, update your .env file."
    },
    "app": {
      "level": "discouraged",
      "requiresExplicitConfirmation": true,
      "message": "Modifying /app directly is discouraged as it reduces portability. Use theme page overrides when possible. Only proceed if user explicitly requests and understands the trade-offs."
    }
  },

  "disabledCommands": [
    "release:version",
    "npm-publish",
    "npm-version",
    "npm-repackage",
    "npm-test-local",
    "npm-test-npm",
    "workflow-update"
  ],

  "disabledAgents": [
    "release-manager"
  ],

  "notes": {
    "gettingStarted": "Your active theme is defined in .env (NEXT_PUBLIC_ACTIVE_THEME). All customizations should go there.",
    "creatingPlugins": "Use /create:plugin to scaffold a new plugin in contents/plugins/.",
    "needCoreChanges": "If you need functionality not available in core, create a plugin or request the feature in NextSpark repository."
  }
}
