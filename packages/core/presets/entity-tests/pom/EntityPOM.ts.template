/**
 * {{ENTITY_PASCAL}}POM - Page Object Model for {{ENTITY_PLURAL}} entity
 *
 * Extends DashboardEntityPOM with entity-specific form handling and workflows.
 *
 * Generated: {{TIMESTAMP}}
 * Session: {{SESSION_NAME}}
 *
 * @example
 * // Instance usage with chaining
 * {{ENTITY_PASCAL}}POM.create()
 *   .visitList()
 *   .waitForList()
 *   .clickAdd()
 *   .fill{{ENTITY_PASCAL}}Form({ /* data */ })
 *   .submitForm()
 *
 * // API-aware workflow
 * const {{ENTITY_CAMEL}} = new {{ENTITY_PASCAL}}POM()
 * {{ENTITY_CAMEL}}.create{{ENTITY_PASCAL}}WithApiWait({
 *   // Entity-specific form data
 * })
 */

import { DashboardEntityPOM } from '../core/DashboardEntityPOM'
import entitiesConfig from '../../fixtures/entities.json'

export interface {{ENTITY_PASCAL}}FormData {
  // TODO: Add entity-specific form fields based on entity schema
  // Example fields (customize based on your entity):
  // name: string
  // description?: string
  // status?: string
  // type?: string
}

export class {{ENTITY_PASCAL}}POM extends DashboardEntityPOM {
  constructor() {
    super(entitiesConfig.entities.{{ENTITY_SLUG}}.slug)
  }

  // ============================================
  // FACTORY METHOD
  // ============================================

  static create(): {{ENTITY_PASCAL}}POM {
    return new {{ENTITY_PASCAL}}POM()
  }

  // ============================================
  // ENTITY-SPECIFIC FORM METHODS
  // ============================================

  /**
   * Fill {{ENTITY_SINGULAR}} form with provided data
   * Only fills fields that are provided in the data object
   *
   * TODO: Implement form filling logic based on entity fields
   */
  fill{{ENTITY_PASCAL}}Form(data: {{ENTITY_PASCAL}}FormData) {
    // Example implementation - customize based on your entity:
    // if (data.name) {
    //   this.fillTextField('name', data.name)
    // }
    // if (data.description) {
    //   this.fillTextarea('description', data.description)
    // }
    // if (data.status) {
    //   this.selectOption('status', data.status)
    // }
    return this
  }

  // ============================================
  // WORKFLOW METHODS
  // ============================================

  /**
   * Complete create flow without API waits
   */
  create{{ENTITY_PASCAL}}(data: {{ENTITY_PASCAL}}FormData) {
    this.visitCreate()
    this.waitForForm()
    this.fill{{ENTITY_PASCAL}}Form(data)
    this.submitForm()
    return this
  }

  /**
   * Create {{ENTITY_SINGULAR}} with API intercepts and waits
   * Deterministic: waits for actual API responses
   */
  create{{ENTITY_PASCAL}}WithApiWait(data: {{ENTITY_PASCAL}}FormData) {
    this.setupApiIntercepts()
    this.clickAdd()
    this.waitForForm()
    this.fill{{ENTITY_PASCAL}}Form(data)
    this.submitForm()
    this.api.waitForCreate()
    return this
  }

  /**
   * Create {{ENTITY_SINGULAR}} from list page and wait for refresh
   */
  create{{ENTITY_PASCAL}}FromListWithApiWait(data: {{ENTITY_PASCAL}}FormData) {
    this.setupApiIntercepts()
    this.clickAdd()
    this.waitForForm()
    this.fill{{ENTITY_PASCAL}}Form(data)
    this.submitForm()
    this.api.waitForCreateAndRefresh()
    return this
  }

  /**
   * Update {{ENTITY_SINGULAR}} with API waits
   */
  update{{ENTITY_PASCAL}}WithApiWait(data: Partial<{{ENTITY_PASCAL}}FormData>) {
    this.fill{{ENTITY_PASCAL}}Form(data as {{ENTITY_PASCAL}}FormData)
    this.submitForm()
    this.api.waitForUpdate()
    return this
  }

  /**
   * Delete {{ENTITY_SINGULAR}} with API waits
   * Flow: Navigate to detail -> Delete -> Confirm
   */
  delete{{ENTITY_PASCAL}}WithApiWait(id: string) {
    this.visitDetailWithApiWait(id)
    this.clickDelete()
    this.confirmDelete()
    this.api.waitForDelete()
    return this
  }

  /**
   * Delete {{ENTITY_SINGULAR}} by finding it in the list by name
   */
  delete{{ENTITY_PASCAL}}ByNameWithApiWait(name: string) {
    this.clickRowByText(name)
    this.waitForDetail()
    this.clickDelete()
    this.confirmDelete()
    this.api.waitForDelete()
    return this
  }

  // ============================================
  // ENTITY-SPECIFIC ASSERTIONS
  // ============================================

  /**
   * Assert {{ENTITY_SINGULAR}} appears in list
   */
  assert{{ENTITY_PASCAL}}InList(name: string) {
    return this.assertInList(name)
  }

  /**
   * Assert {{ENTITY_SINGULAR}} does not appear in list
   */
  assert{{ENTITY_PASCAL}}NotInList(name: string) {
    return this.assertNotInList(name)
  }
}

export default {{ENTITY_PASCAL}}POM
